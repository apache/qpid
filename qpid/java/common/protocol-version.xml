<!--
 -
 - Licensed to the Apache Software Foundation (ASF) under one
 - or more contributor license agreements.  See the NOTICE file
 - distributed with this work for additional information
 - regarding copyright ownership.  The ASF licenses this file
 - to you under the Apache License, Version 2.0 (the
 - "License"); you may not use this file except in compliance
 - with the License.  You may obtain a copy of the License at
 - 
 -   http://www.apache.org/licenses/LICENSE-2.0
 - 
 - Unless required by applicable law or agreed to in writing,
 - software distributed under the License is distributed on an
 - "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 - KIND, either express or implied.  See the License for the
 - specific language governing permissions and limitations
 - under the License.
 -
 -->
<project name="Qpid Common Protocol Versions" default="generate">

<!--
  <property name="specs.dir" value="../../specs"/>
  <property name="gentools.home" value="../../gentools"/>
  <property name="generated.dir" value="target/generated-sources/xsl/org/apache/qpid/framing"/>
  <property name="cluster.asl" value="src/main/xsl/cluster.asl"/>
  <property name="xml.spec.list" value="${specs.dir}/amqp-8.0.xml ${cluster.asl}"/>
-->

  <target name="generate">
    <mkdir dir="${generated.dir}"/>
    <exec dir="${gentools.home}/src" executable="pwd" />
    <echo>XML files to be processed: ${xml.spec.list}</echo>
    <java classname="org.apache.qpid.gentools.Main" fork="true" dir="${gentools.home}/src">
    	<arg line="-j -o ${generated.dir} -t ${gentools.home}/templ.java ${xml.spec.list}"/>
    </java>
  </target>

  <target name="precompile" depends="generate"/>

</project>
