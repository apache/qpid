Apache Incubator Qpid Java M2 Release Notes
-------------------------------------------

The Qpid M2 release contains support the for AMQP 0-8 specification.
You can access the 0-8 specification using the following link.
http://www.amqp.org/tikiwiki/tiki-index.php?page=Download

For full details of Qpid capabilities, as they currently stand, see our
detailed project documentation at:

http://cwiki.apache.org/confluence/display/qpid/Qpid+Java+Documentation

From the link above you can access our Getting Started Guide, FAQ, Build How To
and detailed developer documentation.


Known Issues/Outstanding Work
-----------------------------

You can view the outstanding task list for Qpid by visiting our JIRA:
http://issues.apache.org/jira/browse/QPID

These issues are actually fixed, however these are still marked unresolved as
reminder that they need to merged with the trunk.

Here is a filtered list for your convinience
---------------------------------------
QPID-653 	Timeouts in tests causing spurious failures on slower machines
	
	
QPID-647 	Delivery Manager can stop starving consumers.
	
QPID-645 	Exception thrown while preparing TxnOp not logged or
propogated
	
QPID-643 	CSDM causes duplicate message delivery.
	
QPID-632 	ImmediateMessageTest fails occasionally because
AMQNoConsumersException was not received.
	
QPID-626 	AMQSession deadlocks
	
	
QPID-623 	If all consumers of a queue use selectors then the broker will
leak memory
QPID-610 	Usages of queue.dequeue need to be checked to ensure memory
loss doesn't occur
	
	
QPID-609 	Dispatcher threads are not always killed
QPID-608 	ConnectionTest fails because VM broker is not created
QPID-607 	Dispatcher threads do not die
QPID-606 	NPE from several systests occasionally
QPID-604 	Potential NullPointerException in FieldTable trace logging
	
QPID-573 	race condition between rollback() and the dispatcher thread in
the java client
QPID-531 	[Memory Leak] Broker retains messages that are consumed with
NO_ACK



M2 Tasks Completed
-------------------

The set of JIRA tasks completed as part of the M2 effort is available at:
https://issues.apache.org/jira/secure/ReleaseNote.jspa?projectId=12310520&styleName=Html&version=12312116

QPID-190 	refactoring the java broker mbean classes
QPID-125 	Moving eclipse plugin for broker management to Maven
QPID-93 	Delete the old management modules (trunk\qpid\java\management)
QPID-554 	Allow Hex view of object data messages
QPID-428 	Add login functionality for a qpid server from the management
console
QPID-418 	Add ability to save user preferences to Java Management
Console
QPID-170 	Enhance Management features to support moving a message from
one queue to another
QPID-482 	[Java] Small performance tweaks
QPID-466 	Create STRICT_AMQP System property to disable JMS extensions
in Java client
QPID-453 	AMQShortString should implement Comparable
QPID-422 	Consolidate notification view to display all user configured
notifications on one view
QPID-421 	Provide enumerated description for static constants including
delivery mode
QPID-420 	Add client id to information displayed about connections on
management console
QPID-419 	Introduce read-only and modify authorisation for all objects
in a virtual host
QPID-129 	improving Broker MBeans
QPID-616 	Underflow in calculating message pending size in perftests.
QPID-614 	Race condition on queue browser close
QPID-612 	Duplicate temporary queue names when running unit tests
QPID-600 	Deadlocks on Connection.close
QPID-540 	Transient Broker throws NullPointerException and locks up.
QPID-538 	[Memory Leak] Connecting lots of consumers causes the broker
memory to leak
QPID-537 	Make AMQMessage.incrementReference public
QPID-527 	encoding issue
QPID-508 	[Memory Leak] Broker does not return mandatory messages sent
outside of a transaction.
QPID-476 	AMQProtocolSession channelId2SessionMap does not have sessions
removed
QPID-472 	Creation of TemporaryQueues will not guarantee unqiue queue
names if created rapidly.
QPID-471 	UserManagement panel lists all users but only after a View
Users has been executed and is not updated on Create/Delete User
QPID-467 	Complete Interop Testing
QPID-465 	Incorrect Exception thrown from send() method.
QPID-459 	Broker doesn't correctly handle noLocal consumers when
messages are pre-exisiting on queues.
QPID-458 	Queue Browsing Broken
QPID-454 	Message 'taken' notion is per message. But should be per
message per queue
QPID-443 	Abruptly disconnecting client on transaction publish causes
error
QPID-440 	Can create dangling transactions on unroutable messages.
QPID-436 	topic exchange doesn't obey the mandatory flag
QPID-414 	Authentication requires plain text passwords in password file
QPID-408 	Queue Depth data incorrect
QPID-290 	Java broker does not honor maximum number of channels
threshold
QPID-276 	Potential race condition in AMQChannel
QPID-200 	set/get Destination not implemented in JMSMessage impl
QPID-166 	Check for pre conditions to satisfy JMS spec requirments
QPID-162 	over 600 warnings when building under Eclipse
QPID-159 	The following Interface implementations do not throw
Exceptions as required by the spec



Here is a filtered (by Java components) version of the JIRA items

Task		QPID-190 	refactoring the java broker mbean classes
Task		QPID-125 	Moving eclipse plugin for broker management to Maven
Task		QPID-93 	Delete the old management modules (trunk\qpid\java\management)

New Feature	QPID-428 	Add login functionality for a qpid server from the management console
New Feature	QPID-418 	Add ability to save user preferences to Java Management Console
New Feature	QPID-170 	Enhance Management features to support moving a message from one queue to another

Improvement	QPID-482 	[Java] Small performance tweaks
Improvement	QPID-466 	Create STRICT_AMQP System property to disable JMS extensions in Java client
Improvement	QPID-453 	AMQShortString should implement Comparable
Improvement	QPID-422 	Consolidate notification view to display all user configured notifications on one view
Improvement	QPID-421 	Provide enumerated description for static constants including delivery mode
Improvement	QPID-420 	Add client id to information displayed about connections on management console
Improvement	QPID-419 	Introduce read-only and modify authorisation for all objects in a virtual host
Improvement	QPID-129 	improving Broker MBeans

Bug		QPID-540 	Transient Broker throws NullPointerException and locks up.
Bug		QPID-538 	[Memory Leak] Connecting lots of consumers causes the broker memory to leak
Bug		QPID-537 	Make AMQMessage.incrementReference public
Bug		QPID-531 	[Memory Leak] Broker retains messages that are consumed with NO_ACK
Bug		QPID-527 	encoding issue
Bug		QPID-508 	[Memory Leak] Broker does not return mandatory messages sent outside of a transaction.
Bug		QPID-476 	AMQProtocolSession channelId2SessionMap does not have sessions removed
Bug		QPID-472 	Creation of TemporaryQueues will not guarantee unqiue queue names if created rapidly.
Bug		QPID-471 	UserManagement panel lists all users but only after a View Users has been executed and is not updated on Create/Delete User

Bug		QPID-467 	Complete Interop Testing
Bug		QPID-465 	Incorrect Exception thrown from send() method.
Bug		QPID-459 	Broker doesn't correctly handle noLocal consumers when messages are pre-exisiting on queues.
Bug		QPID-458 	Queue Browsing Broken
Bug		QPID-454 	Message 'taken' notion is per message. But should be per message per queue
Bug		QPID-443 	Abruptly disconnecting client on transaction publish causes error
Bug		QPID-440 	Can create dangling transactions on unroutable messages.
Bug		QPID-436 	topic exchange doesn't obey the mandatory flag
Bug		QPID-414 	Authentication requires plain text passwords in password file
Bug		QPID-408 	Queue Depth data incorrect
Bug		QPID-290 	Java broker does not honor maximum number of channels threshold
Bug		QPID-276 	Potential race condition in AMQChannel
Bug		QPID-200 	set/get Destination not implemented in JMSMessage impl
Bug		QPID-166 	Check for pre conditions to satisfy JMS spec requirments
Bug		QPID-162 	over 600 warnings when building under Eclipse
Bug		QPID-159 	The following Interface implementations do not throw Exceptions as required by the spec
